# 2022-05-24 法本外包OA系统
## 幂等是什么以及如何解决

用户同一次操作的多次提交、服务端重试等称之为幂等性。

解决方法：前端点击后禁用按钮防止用户多次点击；在redis中通过setnx设置key，再次请求将校验这个key存不存在，存在则直接返回；设置数据库唯一索引。

## 外部接口如何设计

	## 安全

RSA签名加密，私钥自己保存，公钥分发出去验证发出的消息；https（内容加密，身份认证，一致性校验）

### 性能、可修改

保持接口功能单一，避免臃肿，造成性能问题

### 幂等

前端点击后禁用按钮防止用户多次点击；在redis中通过setnx设置key，再次请求将校验这个key存不存在，存在则直接返回；设置数据库唯一索引。

## 集群与分布式的区别

### 异同点

1. 分布式是每台服务器部署不同业务
2. 集群是多台服务器部署相同业务
3. 分布式可以是集群，集群不是分布式

### 集群中一台服务器挂掉会影响其他的服务器嘛

集群不会，但分布式由于是一条业务链可能部署在多个节点，所以一台服务器挂掉会影响其他服务器

## 哪些情况下索引会失效

1. 查询条件中带or
2. 模糊查询以"%"开头
3. 列类型为字符串，则需要用“”串起来
4. 索引列参与计算
5. 组合索引中违背最左匹配原则

## CPU什么情况下会过载

频繁发生gc

线程本身发生bug

## CPU过载怎么处理

## ArrayList的优点



